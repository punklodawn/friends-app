(this["webpackJsonpmy-friends"]=this["webpackJsonpmy-friends"]||[]).push([[0],{63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(15),i=n.n(s),l=n(10),r=n(1),o=function(){return Object(r.jsx)("nav",{className:"navbar navbar-light bg-primary",children:Object(r.jsxs)("div",{className:"container-fluid",children:[Object(r.jsx)(l.b,{to:"/",className:"navbar-brand text-white",children:"Mis Amigos"}),Object(r.jsx)(l.b,{to:"/add",className:"btn btn-success",type:"submit",children:"Add friend"})]})})},d=n(17),j=n(12),b=n(19),m=n(9),u="FETCH_FRIENDS",h="SET_MESSAGE",x=function(e){return{type:h,payload:e}},p=Object(m.b)((function(e){return{message:e.message}}),null)((function(e){var t=e.message,n=t.type,a=t.text,c=t.display,s=t.title;return Object(r.jsxs)("div",{className:"alert alert-".concat(n," alert-dismissible fade show d-").concat(c),role:"alert",children:[Object(r.jsx)("strong",{children:s})," ",a,Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]})})),f=n(11),O=n.n(f),g=Object(m.b)(null,{setMessage:x})((function(e){var t=e.setMessage,n=c.a.useState({name:"",phone:"",email:""}),a=Object(b.a)(n,2),s=a[0],i=a[1];function l(e){i(Object(j.a)(Object(j.a)({},s),{},Object(d.a)({},e.target.name,e.target.value)))}return c.a.useEffect((function(){return t({type:"",display:"none",title:"",text:""}),function(){return t({name:"",phone:"",email:""})}}),[t]),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"container mt-5",children:[Object(r.jsx)("h1",{className:"mb-5",children:"Agregar nuevo amigo"}),Object(r.jsxs)("form",{className:"form-floating",onSubmit:function(e){e.preventDefault(),function(e){O.a.post("/api/v1/friend/add",e).then((function(){return t({type:"success",display:"block",title:"\xa1Excelente!",text:"Se ha creado el usuario con \xe9xito"})})).catch((function(){return t({type:"danger",display:"block",title:"\xa1Ups Algo sali\xf3 mal!",text:"Lo siento hubo un problema al tratar de procesar la solicitud con el servidor"})}))}(s),i({name:"",phone:"",email:""})},children:[Object(r.jsx)(p,{}),Object(r.jsxs)("div",{className:"form-floating mb-3",children:[Object(r.jsx)("input",{value:s.name,name:"name",type:"text",className:"form-control",id:"name",placeholder:"Friend name",onChange:l}),Object(r.jsx)("label",{htmlFor:"name",children:"Friend name"})]}),Object(r.jsxs)("div",{className:"form-floating mb-3",children:[Object(r.jsx)("input",{value:s.phone,name:"phone",type:"text",className:"form-control",id:"phone",placeholder:"Friend phone",onChange:l}),Object(r.jsx)("label",{htmlFor:"phone",children:"phone"})]}),Object(r.jsxs)("div",{className:"form-floating mb-3",children:[Object(r.jsx)("input",{value:s.email,name:"email",type:"email",className:"form-control",id:"email",placeholder:"name@example.com",onChange:l}),Object(r.jsx)("label",{htmlFor:"email",children:"Email address"})]}),Object(r.jsx)("div",{className:"col-auto",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-success mb-3",children:"Save friend"})})]})]})})})})),v=Object(m.b)((function(e){return{amigos:e.friendList}}),{fetchFriends:function(e){return{type:u,payload:e}}})((function(e){var t=e.state,n=e.amigos,c=e.fetchFriends;Object(a.useEffect)((function(){O.a.get("/api/v1/friend/").then((function(e){return e.data.data})).then((function(e){return c(e)})).catch((function(){}))}),[c]);var s=n.filter((function(e){return e.status===t}));return Object(r.jsx)("div",{className:"col",children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("div",{className:"card-header",children:Object(r.jsx)("span",{children:t})}),Object(r.jsx)("ul",{className:"list-group list-group-flush",children:s.map((function(e){return Object(r.jsx)(l.b,{to:"/edit/".concat(e.id),children:Object(r.jsx)("li",{className:"list-group-item",children:e.name})},e.id)}))})]})})})),N=function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"row mt-5",children:[Object(r.jsx)("h1",{className:"mb-5",children:"Listado de amigos seg\xfan su estado"}),Object(r.jsx)(p,{}),["Active","Inactive","Blocked"].map((function(e,t){return Object(r.jsx)(v,{state:e},e)}))]})})},y=n(3),E=Object(m.b)(null,{setMessage:x})((function(e){var t=e.match,n=e.setMessage,c=Object(a.useState)({}),s=Object(b.a)(c,2),i=s[0],l=s[1],o=parseInt(t.params.id),d=Object(y.f)(),j=function(e){O.a.get("/api/v1/friend/get/".concat(e)).then((function(e){return l(e.data[0])})).catch((function(){}))};if(Object(a.useEffect)((function(){return j(o),n({type:"",display:"none",title:"",text:""}),function(){return n({type:"",display:"none",title:"",text:""})}}),[o,n]),!i.name)return Object(r.jsx)("div",{children:"No existe el amigo solicitado"});var m=function(e,t){var a="desactivado";"block"===t&&(a="bloqueado"),O.a.put("/api/v1/friend/".concat(t,"/").concat(e)).then((function(){return n({type:"info",display:"block",title:"\xa1Excelente! ",text:"El usuario se ha ".concat(a," con \xe9xito")})}))},u=function(e){var t=e.target.id;switch(t){case"deactivate":case"block":m(o,t),j(o);break;case"delete":!function(e,t){O.a.delete("/api/v1/friend/".concat(t,"/").concat(e)).then((function(){return n({type:"info",display:"block",title:"\xa1Excelente! ",text:"El usuario ha sido eliminado con \xe9xito"})}))}(o,t),d.push("/")}};return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"container mt-5 d-flex flex-column",children:[Object(r.jsxs)("h1",{className:"mb-5 align-self-center",children:["Informaci\xf3n de tallada de ",Object(r.jsx)("strong",{children:i.name})]}),Object(r.jsx)(p,{}),Object(r.jsxs)("div",{className:"card align-self-center",style:{maxWidth:"19.2rem"},children:[Object(r.jsx)("div",{className:"card-header",children:Object(r.jsx)("strong",{children:i.name})}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("strong",{children:"Tel\xe9fono: "}),i.phone]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("strong",{children:"Email: "}),i.email]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("strong",{children:"Estado: "}),i.status]})]}),Object(r.jsx)("div",{className:"card-footer",children:Object(r.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(r.jsx)("button",{id:"deactivate",onClick:u,type:"button",className:"btn btn-warning",children:"Desactivar"}),Object(r.jsx)("button",{id:"block",onClick:u,type:"button",className:"btn btn-info",children:"Bloquear"}),Object(r.jsx)("button",{id:"delete",onClick:u,type:"button",className:"btn btn-danger",children:"Eliminar"})]})})]})]})})})})),k=function(){return Object(r.jsx)("div",{children:"404"})};var F=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o,{}),Object(r.jsxs)(y.c,{children:[Object(r.jsx)(y.a,{exact:!0,path:"/",component:N}),Object(r.jsx)(y.a,{exact:!0,path:"/add",component:g}),Object(r.jsx)(y.a,{exact:!0,path:"/edit/:id",component:E}),Object(r.jsx)(y.a,{path:"/",component:k})]})]})},w=n(18),S={friendList:[],message:{type:"",display:"none",title:"",text:""},loading:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(j.a)(Object(j.a)({},e),{},{friendList:t.payload});case h:return Object(j.a)(Object(j.a)({},e),{},{message:t.payload});default:return e}},M=Object(w.b)(C);i.a.render(Object(r.jsx)(m.a,{store:M,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(l.a,{children:Object(r.jsx)(F,{})})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.d0e9c946.chunk.js.map